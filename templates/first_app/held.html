<!DOCTYPE html>
{% load staticfiles %}
<html>
	<head>
		<meta charset="utf-8">
		<title>{{ request.GET.hostname }}: Locked Packages</title>
		<link rel="stylesheet" href="{% static "css/bootstrap.css" %}"/>
		<script type="text/javascript">
                function ShowLoading(e) {
                var div = document.createElement('div');
                var img = document.createElement('img');
                img.src = '{% static "images/loading_bar.gif" %}';
                div.innerHTML = "Please Wait...<br />";
                div.style.cssText = 'position: fixed; top: 50%; left: 40%; z-index: 5000; width: 422px; text-align: center; background: #FFFFFF; border: 1px solid #000';
                div.appendChild(img);
                document.body.appendChild(div);
                return true;
                // These 2 lines cancel form submission, so only use if needed.
                //window.event.cancelBubble = true;
                //e.stopPropagation();
                }
                </script>
	</head>
	<body>
	{% include "first_app/navbar.html" %}
	<div class="jumbotron">
		<h1 class="text-center">System Locked Packages</h1>
	</div>
		{% if heldpackages %}
		<h2 class="text-center">Here are the version locked packages on {{ request.GET.hostname }}: </h2>

		<div class="container">
			<form method="POST" runat="server" onsubmit="ShowLoading()">
			<table class="table table-bordered">
				<thead>
					<th>Package Name</th>
					<th>Locked Version</th>
					<th>Unhold?</th>
				</thead>
				{% for package in heldpackages %}
				<tr>
					<td>{{ package.package }}</td>
					<td>{{ package.currentver }}</td>
					<td><div class="material-switch pull-right"><input id="{{ package.package }}" type="checkbox" name="package" value="{{ package.package }}"><label for="{{ package.package }}" class="label-success"></label></div></td>
				</tr>	
				{% endfor %}
			</table>
				{% csrf_token %}
				<input type="submit" class="btn btn-primary" value="Submit">
			</form>
		
			
		</div>
		
		{% else %}
		<h2>No packages are locked on {{ request.GET.hostname }}.</h2>
		
		{% endif %}



	</body>
</html>

